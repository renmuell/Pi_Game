# -----------------------------------------------------------------------------
# Screen
# -----------------------------------------------------------------------------

from sense_hat import SenseHat

class Screen:

    sense = None

    buffer = []
    bufferEmpty = [
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],
        [0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]
    ]

    def __init__(self):
        self.sense = SenseHat()
        self.sense.low_light = True

    def set (self, buffer):
        self.buffer = buffer

    def clear(self):
        self.buffer = list(self.bufferEmpty)
       
    def off (self):
         self.sense.clear()

    def set_pixel (self, x, y, color):
        x = int(round((x)))
        y = int(round((y)))
        self.buffer[(((y-1)*8) + (x-1))] = color

    def draw (self):
        self.sense.set_pixels(self.buffer)
